(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"3i7T":function(e,t,n){e.exports={floatLeft:"_2T3hc",floatRight:"_3pmDG",colorWhite:"#fff",colorGrey700:"#767676",sponsorOverlay:"uBipu",sponsorOverlayLabel:"F2W7O",photo:"_3oSvn",infoItem:"_1GZli",photoInfo:"_3jytJ _1GZli",leftActions:"_32IyT _2T3hc",rightActions:"_2BSIe _3pmDG",collectionButtonContainer:"_1ll8L",editPhotoButton:"_1XAJT",userLink:"_1K3rm",userImageContainer:"_2NMqK _2T3hc",userAvatar:"_3UNmO",userName:"_1XRVt _2T3hc",userTopLink:"_20-3f _1GZli",extraInfoClassname:"_2z3zc _1GZli",secondaryLabel:"_3ThrL",hiddenFromProfileOverlay:"_16Zue",icon:"_1xYvR",infoIcon:"_1xtam"}},ALSr:function(e,t,n){"use strict";var o=n("bnCs"),r=n("q1tI"),i=n.n(r),a=n("JlLI"),c=n("EYcW"),l=n("/MKj"),u=n("Ty5D"),s=n("Sh83"),p=n("ZfPj"),f=n("2Fwo"),d=n("IQRp"),h=n("IVTL");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],o=!0,r=!1,i=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){r=!0,i=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var j=Object(h.a)()({shouldDisableInfiniteScroll:!1}),I=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=O(this,v(t).apply(this,arguments))).shouldDisableInfiniteScrollSubject=new d.c(e.props.shouldDisableInfiniteScroll),e.invokeSuppliedFetchMethod=function(){var t=e.props,n=t.fetchDataAndBuildActions,o=t.fetchDataParams,r=t.isDoneFetching,i=t.history,a=t.dispatch;if(!r){var c=n(o).pipe(d.M(3));e.fetchSubscription=c.subscribe((function(e){Object(l.b)((function(){e.forEach(a)}))}),Object(p.b)(a,i))}},e}var n,r,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.addLoadMoreSubscription()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.shouldDisableInfiniteScroll;t!==this.props.shouldDisableInfiniteScroll&&this.shouldDisableInfiniteScrollSubject.next(t)}},{key:"componentWillUnmount",value:function(){this.removeLoadMoreSubscription()}},{key:"addLoadMoreSubscription",value:function(){var e=this,t=d.B(window,"scroll").pipe(d.u(s.f)),n=d.l(t,this.shouldDisableInfiniteScrollSubject).pipe(d.u((function(e){var t=m(e,2);return t[0],!t[1]})),d.s((function(){return e.props.fetchDataParams.page})));this.loadMoreSubscription=n.subscribe(this.invokeSuppliedFetchMethod)}},{key:"removeLoadMoreSubscription",value:function(){Object(o.pipeWith)(c.i(this.loadMoreSubscription),c.k).unsubscribe(),Object(o.pipeWith)(c.i(this.fetchSubscription),c.h((function(e){return e.unsubscribe()})))}},{key:"render",value:function(){return this.props.children}}])&&y(n.prototype,r),i&&y(n,i),t}(r.Component),S=Object(f.a)(Object(u.g)(Object(l.c)()(I)),j),E=n("OjOI"),_=n.n(E);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function C(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var F=function(e){return i.a.createElement("div",{className:_.a.container},e)},T=function(e){var t=e.total,n=e.perPage;return Math.ceil(t/n)},k=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=C(this,D(t).apply(this,arguments))).renderFeed=function(t,n){var o=t.lastPageFetched,r=t.perPage,a=t.orderBy,c=t.total,l=e.props,u=l.fetchDataAndBuildActions,s=l.shouldDisableInfiniteScroll,p=l.renderItems,f=l.getScrollFooterEl,d={page:o+1,perPage:r,orderBy:a},h=o>=T({total:c,perPage:r});return i.a.createElement(S,{fetchDataAndBuildActions:u,fetchDataParams:d,isDoneFetching:h,shouldDisableInfiniteScroll:s},F(i.a.createElement(i.a.Fragment,null,p(n),!h&&f())))},e.renderFeedOrNoContent=function(t,n){return a.e(n)?e.props.getNoContentEl():e.renderFeed(t,n)},e.renderPlaceholder=Object(o.pipe)(e.props.getPlaceholderEl,F),e}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.feedOption,n=e.feedItemsOption;return Object(o.pipeWith)(c.q(t,n,this.renderFeedOrNoContent),c.l(this.renderPlaceholder))}}])&&w(n.prototype,r),l&&w(n,l),t}(r.Component);n.d(t,"a",(function(){return k}))},JQ16:function(e,t,n){e.exports={clearfix:"_2KLco",container:"_2sCnE PrOBO _1CR66","col-12":"wRfkF","sm-col-6":"_2cVF0","md-col-4":"_1hITE",floatLeft:"_2T3hc",floatRight:"_3pmDG",spacingUnit:"4px",placeholderBackground:"_2VWD4",placeholderGutter:"24px",buttonFooterContainer:"_3sS4m",placeholdersContainer:"ILvgD",placeholderItemsContainer:"vbiZb",placeholderItemContainer:"_1fA3Q wRfkF _2cVF0 _1hITE",placeholderItem:"IjvFe _2VWD4"}},Nb12:function(e,t,n){"use strict";var o=n("XhtD"),r=n("ifKl"),i=n("6l12"),a=n("bnCs"),c=n("q1tI"),l=n.n(c),u=n("/MKj"),s=n("QFtp"),p=n("b2r9"),f=n("OcE/"),d=n("pq3u"),h=n("2Fwo"),b=n("LAdA"),m=n("EYcW"),y=n("IQRp"),O=n("IVTL"),v=n("5hI/"),g=n("FXv3"),j=n("ALSr"),I=n("peh1"),S=n("lpo+"),E=n("KwrD"),_=n("75C9"),P=n("L4Ww"),w=n("ezCO"),C=n("Ty5D"),D=n("SHA5"),N=n.n(D),F=n("Tm5Z"),T=n("xOrC"),k=n("HYc2"),L=n("ZjfH"),A=n("E5ST"),x=n("tD8i"),R=n("QH2T"),M=n("mjVK"),W=n("wmOD"),q=n("lCqX"),B=n("M9j0"),U=n("KPJC"),G=n("35id"),V=n("dkli"),J=n("SqvM"),K=n("l/G7"),X=n("k0lW"),Z=n("EqpS"),Q=n("5dpl"),H=n("aOaN"),z=n("3i7T"),Y=n.n(z),$=Object(L.a)(X.a),ee=S.a.single(),te=function(e){var t,n,o,r=e.photoId,i=e.isVisible,c=e.linkProps,u=e.imgProps,s=e.location,p=e.authUserOption,f=e.photoUserId,d=e.photo,h=e.routeData,b=Object(a.pipeWith)(p,m.d((function(e){return e.id===f})));return l.a.createElement(Z.a,{photoId:r},l.a.createElement(K.a,{photoId:r,extraInfoClassname:Y.a.extraInfoClassname,extraInfoPadding:50,regularPadding:50},(o=Object(a.pipeWith)(m.i(d.sponsorship),m.p((function(e){return H.a.Sponsored({sponsorship:e,secondaryLabelClassName:Y.a.secondaryLabel})})),m.l((function(){return H.a.NotSponsored({shouldShowUsername:!1})}))),l.a.createElement("div",{className:Y.a.userTopLink},l.a.createElement(Q.a,{isAvatarVisible:i,userId:f,contentType:o,type:"emphasiseUsername"}))),(t=l.a.createElement($,Object.assign({photoId:r},c,{composedProps:Object.assign(Object.assign({photoId:r,isVisible:i,mobileGridLayout:ee,containerClassName:Y.a.photo},Object(M.a)(R.q)),u)})),n=Object(a.pipeWith)(m.i(d.sponsorship),m.o),Object(F.a)({routeData:h,photo:d,authUserOption:p})?l.a.createElement(J.a,{behind:t,overlayClassName:Y.a.hiddenFromProfileOverlay},l.a.createElement(A.a,{className:Y.a.icon}),l.a.createElement("span",null,"Hidden from profile")):n?l.a.createElement(J.a,{behind:t,overlayClassName:Y.a.sponsorOverlay},l.a.createElement("span",{className:Y.a.sponsorOverlayLabel},"Sponsored",l.a.createElement(x.a,{className:Y.a.infoIcon}))):t),l.a.createElement("div",{className:Y.a.photoInfo},l.a.createElement("div",{className:Y.a.leftActions},b&&l.a.createElement(G.a,{photoId:r,location:s,type:"default",className:Y.a.editPhotoButton}),l.a.createElement(V.a,{photoId:r}),l.a.createElement("div",{className:Y.a.collectionButtonContainer},l.a.createElement(B.a,{photoId:r,location:s}))),l.a.createElement("div",{className:Y.a.rightActions},l.a.createElement(U.a,{photoId:r})))))},ne=Object(d.c)()((function(e,t){return{photo:Object(q.b)(e,t.photoId),photoUserId:Object(q.f)(e,t.photoId),authUserOption:Object(W.d)(e)}})),oe=Object(a.pipeWith)(te,N.a,Object(k.a)({rootMargin:"200%"}),Object(u.c)(ne),C.g,T.b),re=n("Xxxd"),ie=n.n(re),ae=Object(w.a)((function(e){var t=e.photos,n=e.enqueueUpdateFunction;return l.a.createElement("div",{className:ie.a.container},t.map((function(e,t){var o=Object(P.a)({index:t});return l.a.createElement(oe,Object.assign({key:e.id,photoId:e.id,linkProps:{enqueueUpdateFunction:n}},o))})))})),ce=n("TSYQ"),le=n.n(ce),ue=n("CdAG"),se=n("zPcV"),pe=n.n(se),fe=n("XJg7"),de=Object(O.d)()([{tag:"Two"},{tag:"Three"}]),he=_.a.match({Phone:function(){return fe.b},Tablet:function(){return fe.b},Desktop:function(){return fe.a}}),be=fe.c.match({Two:function(){return pe.a.showUntilSmMax},Three:function(){return pe.a.showFromMdMin}}),me=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},ye=Object(d.e)()({maybeDevice:_.e}),Oe=Object(u.c)(ye)((function(e){var t=e.maybeDevice,n=me(e,["maybeDevice"]),o=function(e){var t=e.isUnenhanced;return function(e){return l.a.createElement("div",{className:le()(t&&be(e)),key:e.tag},l.a.createElement(ue.a,Object.assign({columnCount:e},n)))}},r=Object(a.pipe)(he,o({isUnenhanced:!1})),i=Object(a.pipeWith)(t,m.p(r),m.l((function(){return de.map(o({isUnenhanced:!0}))})));return l.a.createElement(l.a.Fragment,null,i)})),ve=function(e){var t=e.gridLayout;return S.a.match({single:function(){return pe.a.showUntilXsMax},multi:function(){return pe.a.showFromSmMin}})(t)},ge=_.a.match({Phone:function(){return S.a.single()},Tablet:function(){return S.a.multi()},Desktop:function(){return S.a.multi()}}),je=S.a.single(),Ie=Object(I.createStructuredSelector)({maybeDevice:_.e}),Se=Object(E.b)(Object(u.c)(Ie)((function(e){var t=e.multi,n=e.single,o=e.photos,r=e.maybeDevice,i=function(){return l.a.createElement(ae,Object.assign({photos:o},n))},c=function(){return l.a.createElement(Oe,Object.assign({photos:o,mobileGridLayout:je},t))},u=function(e){var t=e.gridLayout,n=e.className,o=void 0===n?void 0:n;return l.a.createElement("div",{className:o,key:t.tag},S.a.match({multi:c,single:i})(t))},s=Object(a.pipeWith)(r,m.p(ge)),p=Object(a.pipeWith)(s,m.p((function(e){return u({gridLayout:e})})),m.l((function(){return[S.a.single(),S.a.multi()].map((function(e){return u({gridLayout:e,className:ve({gridLayout:e})})}))})));return l.a.createElement(l.a.Fragment,null,p)}))),Ee=n("6SPB"),_e=n("JQ16"),Pe=n.n(_e);function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function De(e,t){return!t||"object"!==we(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Te=Object(O.a)()({shouldRequireInfiniteScrollOptIn:!1,getNoContentEl:Object(i.a)((function(){return null})),getPlaceholderEl:Object(i.a)((function(){return l.a.createElement("div",{className:Pe.a.placeholdersContainer},l.a.createElement("div",{className:Pe.a.placeholderItemsContainer},Object(o.a)(18).map((function(e){return l.a.createElement("div",{key:e,className:Pe.a.placeholderItemContainer},l.a.createElement("div",{className:Pe.a.placeholderItem}))}))))}))}),ke=Object(s.unionize)({OptInRequired:Object(s.ofType)(),Enabled:{}}),Le=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=De(this,Ne(t).apply(this,arguments))).getInfiniteScrollSetting=function(e){return e.shouldRequireInfiniteScrollOptIn?ke.OptInRequired({optedIn:!1}):ke.Enabled()},e.state={infiniteScrollSetting:e.getInfiniteScrollSetting(e.props)},e.toggleInfiniteScrollOptIn=function(){var t=e.state.infiniteScrollSetting;ke.match({OptInRequired:function(t){var n=t.optedIn,o=ke.OptInRequired({optedIn:!n});e.setState({infiniteScrollSetting:o})},default:r.a})(t)},e.defaultRenderChildren=function(e){return l.a.createElement(Se,{photos:e})},e.fetchDataAndBuildActions=Object(a.pipe)(e.props.fetchPhotos,Object(a.pipe)(y.E(b.f),y.E(f.f),y.E((function(t){var n=t.entities,o=t.result;return[Object(p.O)(n),p.a.HandleNextPhotoFeedPageResponse({feedId:e.props.feedId,photoIds:o})]})))),e}var n,o,c;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(t,e),n=t,(o=[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.shouldRequireInfiniteScrollOptIn!==this.props.shouldRequireInfiniteScrollOptIn){var t=this.getInfiniteScrollSetting(e);this.setState({infiniteScrollSetting:t})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.photoFeedOption,o=t.photosOption,r=t.children,c=t.getNoContentEl,u=t.getPlaceholderEl,s=t.feedId,p=this.state.infiniteScrollSetting,f=!ke.match({OptInRequired:function(e){return e.optedIn},Enabled:function(){return!0}})(p),d=Object(a.pipeWith)(m.i(r),m.m(this.defaultRenderChildren)),h=Object(i.a)((function(){return ke.match({OptInRequired:function(t){return t.optedIn?l.a.createElement(Ee.a,null):l.a.createElement("div",{className:Pe.a.buttonFooterContainer},l.a.createElement(g.a,{tag:"button",buttonType:"outline",onClick:e.toggleInfiniteScrollOptIn,type:"button"},"Load more photos"))},Enabled:function(){return l.a.createElement(Ee.a,null)}})(p)}));return l.a.createElement(j.a,{key:s,renderItems:d,feedItemsOption:o,feedOption:n,getScrollFooterEl:h,getNoContentEl:c,getPlaceholderEl:u,shouldDisableInfiniteScroll:f,fetchDataAndBuildActions:this.fetchDataAndBuildActions})}}])&&Ce(n.prototype,o),c&&Ce(n,c),t}(c.Component),Ae=Object(d.d)()((function(){var e=Object(v.b)(),t=Object(v.c)();return function(n,o){return{photoFeedOption:e(n,o.feedId),photosOption:t(n,o.feedId)}}})),xe=Object(h.a)(Object(u.c)(Ae)(Le),Te);n.d(t,"a",(function(){return xe}))},OjOI:function(e,t,n){e.exports={container:"_2HheS _2sCnE PrOBO _1CR66"}},Xxxd:function(e,t,n){e.exports={container:"_2F9v7"}}}]);
//# sourceMappingURL=collection-route~editorial-route~explore-route~following-route~search-photos-route~topics-route~user~f68b2d39.3b06d.js.map